<!DOCTYPE html>
<html>
<title>Matrix</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./style.css">
<script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.js"></script>
<script language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.dom.js"></script>
<script language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.sound.js"></script>
<script language="javascript" type="text/javascript" src="sketch.js"></script>
<body>

<!-- Sidebar -->
<nav class="w3-sidebar w3-black w3-animate-top w3-xxlarge" style="display:none;padding-top:150px" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-button w3-black w3-xxlarge w3-padding w3-display-topright" style="padding:6px 24px">
    <i class="fa fa-remove"></i>
  </a>
  <div class="w3-bar-block w3-center">
    <a href="https://shrirambo.github.io/" class="w3-bar-item w3-button w3-text-grey w3-hover-black">Home</a>
    <a href="https://shrirambo.github.io/Gallery/gallery.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black">Artworks</a>
    <a href="../../index.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black">Generative Art</a>
  </div>
</nav>

<!-- !PAGE CONTENT! -->
<div class="w3-content" style="max-width:1500px">

    <!-- Header -->
    <div class="w3-opacity">
    <span class="w3-button w3-xxlarge w3-white w3-right" onclick="w3_open()"><i class="fa fa-bars"></i></span> 
    <div class="w3-clear"></div>
    <header class="w3-center w3-margin-bottom">
    <h1><b>The Matrix</b></h1>
    </header>
    </div>

    <!-- Photo Grid -->
    <div class="w3-row-padding" id="myGrid" style="margin-bottom:128px">


      <div class="w3-center"   style="max-width:1000px;padding:2%; margin-left:auto;margin-right:auto;" >
        <p align=left> The famous Matrix letter-fall effect. Press "Run" to start the simulation. Looks pretty cool in full-screen. You can also save a wallpaper for yourself if you like :) </p>
      </div>


        <!-- The sketch -->
        <div id="f-s-canvas"  style="position: relative;">
          <div id="canvas" class="w3-center"></div>
          <div class="w3-center notInFullScreen" id="fsButtonBar" style="margin: auto 0;" >
            <button class="w3-button w3-black" onclick="resetSketch()">Run</button>
            <button class="w3-button w3-black" onclick="pauseToggle()"    id="pauseToggle">Pause</button>
            <button class="w3-button w3-black" onclick="openFullscreen()" id="fs-toggle">Full-screen</button>
            <button class="w3-button w3-black" onclick="saveIT()">Save</button>
          </div>
        </div>
        


    <!-- End of Photo Grid --> 
    </div>

    

  <!-- Modal for full size images on click     <iframe id="img01" onload="this.width=screen.width;this.height=screen.height;" ></iframe>   -->
  <div id="modal01" class="w3-modal w3-black" style="padding-top:0" onclick="this.style.display='none'">
    <span class="w3-button w3-black w3-xlarge w3-display-topright">Ã—</span>
    <div class="w3-modal-content w3-animate-zoom w3-center w3-transparent w3-padding-64" >
        <img id="img01" class="w3-image" style="width:80%; position: center;">
        <p id="caption"></p>
    </div>
    </div>

<!-- End Page Content -->
</div>

<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-light-grey w3-center w3-opacity w3-xlarge" style="margin-top:128px"> 
  <i class="fa fa-facebook-official w3-hover-opacity"  onclick="window.location.href ='https://www.facebook.com/sashirgade'"></i>
  <i class="fa fa-instagram w3-hover-opacity" onclick="window.location.href ='https://www.instagram.com/shri_rambo/'"></i>
  <i class="fa fa-linkedin w3-hover-opacity"   onclick="window.location.href ='http://www.linkedin.com/in/shriram-ashirgade'"></i>
  <i class="fa fa-github w3-hover-opacity"   onclick="window.location.href ='https://github.com/shrirambo'"></i>
  <p class="w3-medium">Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank" class="w3-hover-text-green">w3.css</a></p>
</footer>
 
 
<script>


  // Open and close sidebar
  function w3_open() {
    document.getElementById("mySidebar").style.width = "100%";
    document.getElementById("mySidebar").style.display = "block";
  }

  function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
  }

  // Modal Image Gallery
  function onClick(element) {
      console.log("Image clicked")
    document.getElementById("img01").src = element.src;
    document.getElementById("modal01").style.display = "block";
    var captionText = document.getElementById("caption");
    captionText.innerHTML = element.alt;
  }




  /* When the openFullscreen() function is executed, open the video in fullscreen.
  Note that we must include prefixes for different browsers, as they don't support the requestFullscreen method yet */
  function openFullscreen() {

  // Full-screen MAtruz effect
  /* Get the element you want displayed in fullscreen mode (a video in this example): */
  var sketch = document.getElementById("f-s-canvas"); 

  if (sketch.requestFullscreen) {
    sketch.requestFullscreen();
  } else if (sketch.mozRequestFullScreen) { /* Firefox */
    sketch.mozRequestFullScreen();
  } else if (sketch.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
    sketch.webkitRequestFullscreen();
  } else if (sketch.msRequestFullscreen) { /* IE/Edge */
    sketch.msRequestFullscreen();
  }

  

}

function toFullScreenMode(){
  var fsToggle = document.getElementById("fs-toggle");
  fsToggle.innerHTML= "Exit full-screen";
  fsToggle.setAttribute('onclick',"closeFullscreen()");

  var fsButtonBar = document.getElementById("fsButtonBar");
  fsButtonBar.classList.add('inFullScreen');
  fsButtonBar.classList.remove('notInFullScreen');
}


function closeFullscreen() {

  if (document.exitFullscreen) {
    document.exitFullscreen();
  } else if (document.webkitExitFullscreen) {
    document.webkitExitFullscreen();
  } else if (document.mozCancelFullScreen) {
    document.mozCancelFullScreen();
  } else if (document.msExitFullscreen) {
    document.msExitFullscreen();
  }

  

}

function toNormalScreenMode(){
  var fsToggle = document.getElementById("fs-toggle");
  fsToggle.innerHTML= "Full-screen";
  fsToggle.setAttribute('onclick',"openFullscreen()")

  var fsButtonBar = document.getElementById("fsButtonBar");
  fsButtonBar.classList.remove('inFullScreen');
  fsButtonBar.classList.add('notInFullScreen');

}


function pauseToggle(){
  var pBtn = document.getElementById("pauseToggle")

  if(animRunning && pBtn.innerHTML == "Pause"){
    noLoop();
    animRunning = false;
    pBtn.innerHTML = "Resume"
  }
  else if(!animRunning && pBtn.innerHTML == "Resume"){
    loop();
    animRunning = true;
    pBtn.innerHTML = "Pause";
  }

}



document.addEventListener("fullscreenchange", fullScreenChanged);
document.addEventListener("mozfullscreenchange", fullScreenChanged);
document.addEventListener("webkitfullscreenchange",fullScreenChanged);
document.addEventListener("msfullscreenchange",fullScreenChanged);

</script>

</body>
</html>
